
### **Cross-Origin Resource Sharing (CORS) - Notes**

#### **1. Introduction**
- **Cross-Origin Resource Sharing (CORS):** A security feature that allows or restricts resources to be accessed across different origins (domains, protocols, or ports).
- CORS is designed to overcome the limitations of **Same-Origin Policy (SOP)**.


#### **2. Same-Origin Policy (SOP)**
- **Definition:** A security mechanism in browsers that allows scripts running on a page to access resources only from the same domain (origin).
- **Limitation:**- SOP denies access to resources from other domains.
- Example:
`test.com` cannot make requests to `example.com` because they have different origins.




#### **3. Overcoming SOP Limitations with CORS**
- **Solution:** Developers use CORS to enable access to resources across multiple domains by defining rules and permissions.
- **Implementation:**
Developers can allow:- Specific domains.
- Patterns of domains using **Regular Expressions (Regex)**.




#### **4. Key Concepts in CORS**
CORS can be configured in several ways:
1. **Based on Null Origin**
- Resources can be shared with origins that do not have a valid origin (e.g., sandboxed iframes).
- This is generally discouraged due to security concerns.


- **Based on Wildcard (****`*`****)**
- Allows resources to be accessed by **any origin**.
- Example:`Access-Control-Allow-Origin: *`

- **Risk:** Using `*` is insecure as it allows unrestricted access to resources.


- **Based on Protocols (HTTP and HTTPS)**
- Resources can be shared selectively between `http` and `https` origins.
- Example:
`http://example.com` may access resources from `https://example.com` if allowed in the CORS configuration.



#### **5. CORS Configuration**
- **Headers Used in CORS:**
- `Access-Control-Allow-Origin`: Specifies the allowed origin(s).
- `Access-Control-Allow-Methods`: Specifies the allowed HTTP methods (GET, POST, etc.).
- `Access-Control-Allow-Headers`: Specifies the allowed custom headers.


- Example: Allowing specific domains using Regex:
`Access-Control-Allow-Origin: https://*.example.com`



#### **6. Security Considerations**
- Properly configure CORS to prevent unauthorized access to sensitive resources.
- Avoid using `*` unless absolutely necessary. Use strict domain rules to restrict access.

**Summary:**
 CORS is an essential mechanism for secure resource sharing across different origins, overcoming SOP's limitations. However, it should be implemented with caution to balance functionality and security.
